<% if @card.errors.any? %>
  Creation failed due to <%= pluralize(@card.errors.count, "error") %>.<br>
  <% @card.errors.full_messages.each do |m| %>
    <li><%= m %></li>
  <% end %>
<% end %>

<%= form_with(model: card, local: true) do |f| %>
  <%= f.fields_for :images do |i| %>
    image<%= i.index + 1 %><%= i.file_field :data %><br>
  <% end %>

  <%= f.label :"title" %><%= f.text_field :title %><br>
  <%= f.select :frame_style, @card.frame_style_labels, include_blank: @card.frame_style_label %>
  <%= f.select :font_style, @card.font_style_labels, include_blank: @card.font_style_label %><br>
  <%= f.label :"sentence" %><%= f.text_field :sentence %><br>

  <% if action_name == 'edit' %>
    <%= f.submit "UPDATE" %>
    <%= link_to "DELETE", card_path(@card), data: { confirm: "Are you sure?" }, method: :delete %>
  <% else %>
    <%= f.submit "CREATE" %>
  <% end %>
<% end %>
